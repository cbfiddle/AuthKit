## Open this file in TextEdit.## Copy and paste its examples into Terminal.## Be sure to edit the 'cd' target in Example 0 for your system.## Examples will run as root, so don't blame me if you break something.# Interesting privilege names from 10.2.3 /etc/authorization:#  system.preferences ------ group=admin, shared,   timeout=indefinite#  system.printingmanager -- group=admin, unshared, timeout=0    ** preauthorize() hostile#  system.privilege.admin -- group=admin, unshared, timeout=300#  sys.openfile. ----------- group=admin, unshared, timeout=300  ** a wildcard rule#  DEFAULT RULE ------------ group=admin, shared,   timeout=300# Summary of TestAuth params:#   : ---------- by itself, separates groups of cmd+args#   # ---------- builtin calls release()#   ## --------- builtin calls detach(true)#   see [...] -- builtin lists availability of privileges, or past granted if no names#   pre ... ---- builtin calls preauthorize() on names#   au+ ... ---- builtin calls authorize() on names, interaction allowed#   au- ... ---- builtin calls authorize() on names, interaction disallowed#   put [...] -- builtin writes binary secret-identifier to file(s), or hex to stdoout#   get file --- builtin loads secret-identifier from file#   ver -------- builtin prints java.version and java.home#   zzz [N] ---- builtin sleeps for N secs, or 3 if no N#   JAVA ------- quasi-builtin executes {java.home}/bin/java#   @ xxx ------ prefix that pipes secret identifier to xxx command##############################################   E X A M P L E S   ################################################# Example 0.a: Preliminaries, for csh or tcsh...alias jauthTen 'java -Dauthkit.imp=glguerin.authkit.imp.macosx.MacOSXAuthorization'alias  java131 '/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Commands/java'cd ~/AuthKitmkdir -p ./s## Example 0.b: Preliminaries, for bash or sh...alias jauthTen='java -Dauthkit.imp=glguerin.authkit.imp.macosx.MacOSXAuthorization'alias  java131='/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Commands/java'cd ~/AuthKitmkdir -p ./s## Example 1: Execute an external command as root.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : /usr/bin/id \  : see ## Example 2: Execute as root, preauth first, delay a little, then execute.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : pre system.privilege.admin \  : zzz \  : /usr/bin/id \  : see ## Example 3: Execute as root, release session, execute again.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : /usr/bin/id \  : see \  : # \  : /usr/bin/id \  : see## Example 4: Default-rule privilege (shared), session release, still available.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : see TRIAL \  : au+ TRIAL \  : see TRIAL \  : # \  : zzz \  : au+ TRIAL \  : see TRIAL## Example 5: Revoke credential, even if shared.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : see TRIAL \  : au- TRIAL \  : ## \  : see TRIAL## Example 6: Run under 1.3.1 Java with 1.4.1 installed.java131 -Dauthkit.imp=glguerin.authkit.imp.macosx.MacOSXAuthorization \    -cp AuthKit.jar app.authkit.test.TestAuth \  : /usr/bin/java -version \  : JAVA -version## Example 7: Create root-owned root-writable directory.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : au+ system.privilege.admin \  : see \  : /bin/mkdir -p ./rooted \  : /bin/chmod 755 ./rooted \  : /usr/sbin/chown 0:0 ./rooted \  : /bin/ls -ld ./rooted## Example 8: Pipe secret identifier, write to root-writable dir.jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : put \  : @ /usr/bin/tee rooted/t1 \  : /usr/bin/hexdump rooted/t1 \  : zzz 1## Example 9: Attach to parent's privileged session with attachPrivileged().jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : put \  : au+ system.privilege.admin PRIV \  : see system.privilege.admin PRIV \  : JAVA -cp AuthKit.jar \    -Dauthkit.imp=glguerin.authkit.imp.macosx.MacOSXAuthorization \    -Dattach=. \    -Dout.1=rooted/priv \    app.authkit.test.TestAttach system.privilege.admin PRIV OTHER \  : see system.privilege.admin PRIV OTHER## Example 10: Attach to parent's session with piped data and attach().jauthTen -cp AuthKit.jar app.authkit.test.TestAuth \  : put \  : au+ system.privilege.admin PIPED \  : @ JAVA -cp AuthKit.jar \    -Dauthkit.imp=glguerin.authkit.imp.macosx.MacOSXAuthorization \    -Dattach=@ \    -Dout.1=rooted/piped \    app.authkit.test.TestAttach system.privilege.admin PIPED OTHER \  : see system.privilege.admin PIPED OTHER