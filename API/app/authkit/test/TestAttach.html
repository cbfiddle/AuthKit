<!-- Automatically generated with polardoc Version 1.0.7 on Sun Aug 10 12:16:12 MST 2003 --><!-- app.authkit.test.TestAttach | Do not remove or edit this line! --><HTML><HEAD><TITLE>  Class app.authkit.test.TestAttach</TITLE></HEAD><BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#0000FF" ALINK="#0000FF"><A NAME="_top_"></A><PRE><A HREF="../../../packages.html">All Packages</A>  <A HREF="../../../Package-app/authkit/test.html">This Package</A>  <A HREF="../../../tree.html">Class Hierarchy</A>  <A HREF="../../../Search.html">Class Search</A>  <A HREF="../../../AllNames.html">Index</A></PRE><HR SIZE=1 ALIGN=left WIDTH="98%"><B><FONT FACE="Arial,Helvetica" SIZE=+2>     Class app.authkit.test.TestAttach</FONT></B><PRE>java.lang.Object   |   +----<A HREF="../../../app/authkit/test/AuthTest.html">app.authkit.test.AuthTest</A>           |           +----app.authkit.test.TestAttach</PRE><P><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Summary</B></FONT></TD> </TR> </TABLE><A NAME="_Summary_"></A><PRE>public class  <STRONG>TestAttach</STRONG>     extends app.authkit.test.<A HREF="../../../app/authkit/test/AuthTest.html">AuthTest</A>{          // Constructors 1     public <A HREF="#TestAttach()">TestAttach</A>();          // Methods 4     public static void <A HREF="#main(java.lang.String[])">main</A>(String[]);     protected void <A HREF="#spewTo(java.io.PrintStream, java.lang.String, glguerin.authkit.Authorization, java.lang.String[])">spewTo</A>(PrintStream, String, Authorization, String[]);     protected void <A HREF="#spewTo(java.lang.String, java.lang.String, glguerin.authkit.Authorization, java.lang.String[])">spewTo</A>(String, String, Authorization, String[]);     public void <A HREF="#testAuth(glguerin.authkit.Authorization, java.lang.String, java.lang.String[])">testAuth</A>(Authorization, String, String[]);}</PRE><P><DL><P>TestAttach is a command-line test of the three ways an Authorization can be attached to a session.  It can call attach() for a secret identifier provided in a file or via stdin. It can call attachPrivileged() when run as a chiled of execPrivilged(). It can implicitly attach to a new session.<p> Since this program is often launched as a privileged process, it always displays the system properties "java.version" and "java.home", as a diagnostic aid.<p> Because of the possible coupling between a privileged Process's stdin and stdout, this program displays all diagnostics on stderr, never on stdout. Normally, nothing will be written to stdout.<p> All the args are taken to be Privilege names, which are authorize()'d with interaction disallowed, and failures ignored.  The Privileges then are displayed on stderr, and optionally appended to files, which are named in "out.N" properties.<p> The property "authkit.imp" is  the fully qualified class name of an Authorization to instantiate and use.<p> The optional properties "out.N", where N is a number starting with 1, are filenames (pathnames) which will have a list of authorized Privileges appended to them. If the TestAttach process is running with elevated privileges, the owner of any created files will be root, and any files normally restricted to root will be writable by this program. Be very careful what you overwrite.<p> The optional property "attach" controls how this program attaches to a session:<ul>  <li>If the property is missing or empty, then no existing session is   attached, and a new session is created and used.   This tests none of the attaching methods.  It's simply the safest path of action.  </li>  <li>If the property is ".", then attachPrivileged() is used to attach to the session.  </li>  <li>If the property is "@", then stdin is read for the secret identifier,   and the data read is passed to attach().   This is a relatively secure approach,   though due to stdin/stdout coupling, it may or may not be workable in production.  </li>  <li>If the property is any other value, then it's treated as a filename whose   contents is a secret identifier to be used by attach().     This is an insecure approach, and is only suitable for testing.  </li></ul><p> Unlike most other classes in this package, diagnostics are emitted on stderr, not stdout.<P></DL><P><BR><BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Constructors</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="TestAttach"><FONT COLOR="#FFCC00">&middot;</FONT></A><A NAME="TestAttach()">TestAttach</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public TestAttach() </PRE><BLOCKQUOTE><DL><P>Default constructor<P></DL></BLOCKQUOTE> <BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Methods</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="main"><FONT COLOR="#00DD00">&middot;</FONT></A><A NAME="main(java.lang.String[])">main</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public static void main(String[] args) </PRE><BLOCKQUOTE><DL><P>Static entry point; can only be used as an application.<P></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="testAuth"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="testAuth(glguerin.authkit.Authorization, java.lang.String, java.lang.String[])">testAuth</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public void testAuth(<A HREF="../../../glguerin/authkit/Authorization.html">Authorization</A> auth,                         String preauthProp,                         String[] args) </PRE><BLOCKQUOTE><DL><P>Does nothing.  This prevents misuse in AllTests.<P><DT><B>Overrides:</B><DD><A HREF="../../../app/authkit/test/AuthTest.html#testAuth(glguerin.authkit.Authorization, java.lang.String, java.lang.String[])">testAuth</A> in class <A HREF="../../../app/authkit/test/AuthTest.html">AuthTest</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="spewTo"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="spewTo(java.lang.String, java.lang.String, glguerin.authkit.Authorization, java.lang.String[])">spewTo</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected void spewTo(String filename,                          String header,                          <A HREF="../../../glguerin/authkit/Authorization.html">Authorization</A> auth,                          String[] privNames) </PRE><BLOCKQUOTE><DL><P>Append information in human-readable form to file.<P></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="spewTo"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="spewTo(java.io.PrintStream, java.lang.String, glguerin.authkit.Authorization, java.lang.String[])">spewTo</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected void spewTo(PrintStream out,                          String header,                          <A HREF="../../../glguerin/authkit/Authorization.html">Authorization</A> auth,                          String[] privNames) </PRE><BLOCKQUOTE><DL><P>Print information in human-readable form to PrintStream. The auth's public identifier is displayed, along with the current availability of every privName, and its latest-granted date (if any).<P></DL></BLOCKQUOTE> <BR><HR SIZE=1 ALIGN=left WIDTH="98%"><PRE><A HREF="../../../packages.html">All Packages</A>  <A HREF="../../../Package-app/authkit/test.html">This Package</A>  <A HREF="../../../tree.html">Class Hierarchy</A>  <A HREF="../../../Search.html">Class Search</A>  <A HREF="../../../AllNames.html">Index</A></PRE><FONT FACE="Arial,Helvetica" SIZE=-2>Freshly brewed Java API Documentation automatically generated with <A HREF="http://www.ualberta.ca/~tgee/polardoc">polardoc</A> Version 1.0.7<BR></FONT></BODY></HTML>