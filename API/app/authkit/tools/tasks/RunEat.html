<!-- Automatically generated with polardoc Version 1.0.7 on Sun Aug 10 12:16:12 MST 2003 --><!-- app.authkit.tools.tasks.RunEat | Do not remove or edit this line! --><HTML><HEAD><TITLE>  Class app.authkit.tools.tasks.RunEat</TITLE></HEAD><BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#0000FF" ALINK="#0000FF"><A NAME="_top_"></A><PRE><A HREF="../../../../packages.html">All Packages</A>  <A HREF="../../../../Package-app/authkit/tools/tasks.html">This Package</A>  <A HREF="../../../../tree.html">Class Hierarchy</A>  <A HREF="../../../../Search.html">Class Search</A>  <A HREF="../../../../AllNames.html">Index</A></PRE><HR SIZE=1 ALIGN=left WIDTH="98%"><B><FONT FACE="Arial,Helvetica" SIZE=+2>     Class app.authkit.tools.tasks.RunEat</FONT></B><PRE>java.lang.Object   |   +----<A HREF="../../../../app/authkit/tools/tasks/CommonTask.html">app.authkit.tools.tasks.CommonTask</A>           |           +----app.authkit.tools.tasks.RunEat</PRE><P><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Summary</B></FONT></TD> </TR> </TABLE><A NAME="_Summary_"></A><PRE>public class  <STRONG>RunEat</STRONG>     extends app.authkit.tools.tasks.<A HREF="../../../../app/authkit/tools/tasks/CommonTask.html">CommonTask</A>{          // Constructors 1     public <A HREF="#RunEat()">RunEat</A>();          // Methods 1     public int <A HREF="#perform(java.lang.String[], glguerin.authkit.Authorization)">perform</A>(String[], Authorization);}</PRE><P><DL><P>RunEat runs arbitrary commands, whose output is ultimately consumed.<P></DL><P><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Cross Reference</B></FONT></TD> </TR> </TABLE><BR><DL><DT><B>Extended By: </B><DD><A HREF="../../../../app/authkit/tools/tasks/RunOut.html">RunOut</A><P></DL><BR><BR><BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Constructors</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="RunEat"><FONT COLOR="#FFCC00">&middot;</FONT></A><A NAME="RunEat()">RunEat</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public RunEat() </PRE><BLOCKQUOTE><DL><P>Create a do-anything Task.<P></DL></BLOCKQUOTE> <BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Methods</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="perform"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="perform(java.lang.String[], glguerin.authkit.Authorization)">perform</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public int perform(String[] args,                       <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A> auth) </PRE><BLOCKQUOTE><DL><P>Treat the args as a command to execute, with its args. The Process's stdout is sent to System.out. It's exit-status is my return status.<p> Although we send the Process's stdout to my System.out, we don't declare this as an output-producing Task with producesOutput().  As a result, the output is ultimately sent to a bit-bucket stream set up by Envoy. The reason for doing it this way is so RunOut can be implemented simply by returning true from producesOutput(), while still using this same perform(). The two classes are thus interdependent, but that's fine for these two fellows.<p> This method enforces the underlying Authorization policy rules by calling authorize(). The Privilege is a root-execute Privilege created by makeExecPrivilege(), with the command-name taken from args[0].  This is exactly the Privilege to use here.<p> The authorize() call is not permitted user-interaction, because this code should not be running interactively.  Either we already have the Privilege granted, or it's implied by the effective-uid of root, but we do not allow user authentication now. If it fails, it fails, and the Envoy will terminate appropriately.<p> This use of authorize() is the typical approach to guarding a restricted section of code. Do not omit it just because you think it's safe to assume it's running as root. Good security means not making assumptions.<P><DT><B>Implements:</B><DD><A HREF="../../../../app/authkit/envoy/Task.html#perform(java.lang.String[], glguerin.authkit.Authorization)">perform</A> in interface <A HREF="../../../../app/authkit/envoy/Task.html">Task</A></DL></BLOCKQUOTE> <BR><HR SIZE=1 ALIGN=left WIDTH="98%"><PRE><A HREF="../../../../packages.html">All Packages</A>  <A HREF="../../../../Package-app/authkit/tools/tasks.html">This Package</A>  <A HREF="../../../../tree.html">Class Hierarchy</A>  <A HREF="../../../../Search.html">Class Search</A>  <A HREF="../../../../AllNames.html">Index</A></PRE><FONT FACE="Arial,Helvetica" SIZE=-2>Freshly brewed Java API Documentation automatically generated with <A HREF="http://www.ualberta.ca/~tgee/polardoc">polardoc</A> Version 1.0.7<BR></FONT></BODY></HTML>