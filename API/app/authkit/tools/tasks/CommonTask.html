<!-- Automatically generated with polardoc Version 1.0.7 on Sun Aug 10 12:16:12 MST 2003 --><!-- app.authkit.tools.tasks.CommonTask | Do not remove or edit this line! --><HTML><HEAD><TITLE>  Class app.authkit.tools.tasks.CommonTask</TITLE></HEAD><BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#0000FF" ALINK="#0000FF"><A NAME="_top_"></A><PRE><A HREF="../../../../packages.html">All Packages</A>  <A HREF="../../../../Package-app/authkit/tools/tasks.html">This Package</A>  <A HREF="../../../../tree.html">Class Hierarchy</A>  <A HREF="../../../../Search.html">Class Search</A>  <A HREF="../../../../AllNames.html">Index</A></PRE><HR SIZE=1 ALIGN=left WIDTH="98%"><B><FONT FACE="Arial,Helvetica" SIZE=+2>     Class app.authkit.tools.tasks.CommonTask</FONT></B><PRE>java.lang.Object   |   +----app.authkit.tools.tasks.CommonTask</PRE><P><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Summary</B></FONT></TD> </TR> </TABLE><A NAME="_Summary_"></A><PRE>public abstract class  <STRONG>CommonTask</STRONG>     extends java.lang.Object     implements app.authkit.envoy.<A HREF="../../../../app/authkit/envoy/Task.html">Task</A>{          // Constructors 1     protected <A HREF="#CommonTask()">CommonTask</A>();          // Methods 5     protected int <A HREF="#execute(java.lang.String[], java.io.InputStream, java.io.OutputStream, java.io.OutputStream)">execute</A>(String[], InputStream, OutputStream, OutputStream);     protected void <A HREF="#explain(java.lang.String)">explain</A>(String);     protected void <A HREF="#explain(java.lang.Throwable)">explain</A>(Throwable);     public boolean <A HREF="#producesOutput()">producesOutput</A>();     protected String[] <A HREF="#substitute(java.lang.String[], java.lang.String, java.lang.String)">substitute</A>(String[], String, String);}</PRE><P><DL><P>CommonTask is a partial Task implementation used as a base-class. It defines a default implementation of producesOutput() that returns false. Only Tasks that produce output need to provide an override. No definition of perform() is provided, so all CommonTasks must define it.<p> CommonTask also provides utility methods useful to Tasks that execute external programs. Many Tasks are written to run other programs as root, so these simplify such Tasks.<P></DL><P><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Cross Reference</B></FONT></TD> </TR> </TABLE><BR><DL><DT><B>Extended By: </B><DD><A HREF="../../../../app/authkit/tools/tasks/AppBundleLockdownTask.html">AppBundleLockdownTask</A>, <A HREF="../../../../app/authkit/tools/tasks/RunEat.html">RunEat</A><P></DL><BR><BR><BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Constructors</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="CommonTask"><FONT COLOR="#FFCC00">&middot;</FONT></A><A NAME="CommonTask()">CommonTask</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected CommonTask() </PRE><BLOCKQUOTE><DL><P>Visible only to subclasses.<P></DL></BLOCKQUOTE> <BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Methods</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="producesOutput"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="producesOutput()">producesOutput</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public boolean producesOutput() </PRE><BLOCKQUOTE><DL><P>Does this Task produce output on System.out that should be collected and returned to the Envoy's master?<p> Returns false. Only subclasses that produce output need to override.<P><DT><B>Implements:</B><DD><A HREF="../../../../app/authkit/envoy/Task.html#producesOutput()">producesOutput</A> in interface <A HREF="../../../../app/authkit/envoy/Task.html">Task</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="explain"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="explain(java.lang.String)">explain</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected void explain(String text) </PRE><BLOCKQUOTE><DL><P>Emit line of text on stderr, flushing stdout first.<P></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="explain"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="explain(java.lang.Throwable)">explain</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected void explain(Throwable toExplain) </PRE><BLOCKQUOTE><DL><P>Emit stack trace on stderr, flushing stdout first.<P></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="substitute"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="substitute(java.lang.String[], java.lang.String, java.lang.String)">substitute</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected String[] substitute(String[] progArray,                                  String pattern,                                  String replacement) </PRE><BLOCKQUOTE><DL><P>Replicate progArray, substituting each occurrence of pattern with replacement. The pattern must be a distinct String in progArray. It may appear multiple times. Sub-patterns within progArray Strings do not undergo pattern substitution.<P></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="execute"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="execute(java.lang.String[], java.io.InputStream, java.io.OutputStream, java.io.OutputStream)">execute</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   protected int execute(String[] progArray,                          InputStream stdin,                          OutputStream stdout,                          OutputStream stderr) </PRE><BLOCKQUOTE><DL><P>Treat the progArray as a command to execute with Runtime.exec(), feeding the Process's streams to the given streams using independent daemon threads running a glguerin.util.Streamer.<p> The Process's input-consuming stream is fed by the given InputStream, or is unfed if the stream is null.  To cause the Process to see an immediate EOF, you should provide a non-null InputStream that will return an immediate EOF. For example, provide a ByteArrayInputStream wrapping a byte[0].<p> If an OutputStream is null, the Process's output destined for that stream is discarded. Otherwise the bytes are written to the provided OutputStream using a Streamer.<p> None of the streams provided are closed by the Streamer threads that move the data. All the Streamer threads are daemon Threads in the current ThreadGroup.<p> The Process's exit-status is returned, or -1 if can't exec() it, or -2 if can't waitFor() it. An unchecked exception may also be thrown.<P></DL></BLOCKQUOTE> <BR><HR SIZE=1 ALIGN=left WIDTH="98%"><PRE><A HREF="../../../../packages.html">All Packages</A>  <A HREF="../../../../Package-app/authkit/tools/tasks.html">This Package</A>  <A HREF="../../../../tree.html">Class Hierarchy</A>  <A HREF="../../../../Search.html">Class Search</A>  <A HREF="../../../../AllNames.html">Index</A></PRE><FONT FACE="Arial,Helvetica" SIZE=-2>Freshly brewed Java API Documentation automatically generated with <A HREF="http://www.ualberta.ca/~tgee/polardoc">polardoc</A> Version 1.0.7<BR></FONT></BODY></HTML>