<!-- Automatically generated with polardoc Version 1.0.7 on Sun Aug 10 12:16:12 MST 2003 --><!-- glguerin.authkit.imp.plain.GrantAllAuthorization | Do not remove or edit this line! --><HTML><HEAD><TITLE>  Class glguerin.authkit.imp.plain.GrantAllAuthorization</TITLE></HEAD><BODY BGCOLOR="#FFFFFF" LINK="#0000FF" VLINK="#0000FF" ALINK="#0000FF"><A NAME="_top_"></A><PRE><A HREF="../../../../packages.html">All Packages</A>  <A HREF="../../../../Package-glguerin/authkit/imp/plain.html">This Package</A>  <A HREF="../../../../tree.html">Class Hierarchy</A>  <A HREF="../../../../Search.html">Class Search</A>  <A HREF="../../../../AllNames.html">Index</A></PRE><HR SIZE=1 ALIGN=left WIDTH="98%"><B><FONT FACE="Arial,Helvetica" SIZE=+2>     Class glguerin.authkit.imp.plain.GrantAllAuthorization</FONT></B><PRE>java.lang.Object   |   +----<A HREF="../../../../glguerin/authkit/Authorization.html">glguerin.authkit.Authorization</A>           |           +----glguerin.authkit.imp.plain.GrantAllAuthorization</PRE><P><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Summary</B></FONT></TD> </TR> </TABLE><A NAME="_Summary_"></A><PRE>public class  <STRONG>GrantAllAuthorization</STRONG>     extends glguerin.authkit.<A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A>{          // Constructors 1     public <A HREF="#GrantAllAuthorization()">GrantAllAuthorization</A>();          // Methods 13     public void <A HREF="#attach(byte[])">attach</A>(byte[]);     public void <A HREF="#attachPrivileged()">attachPrivileged</A>();     public void <A HREF="#authorize(glguerin.authkit.Privilege, boolean)">authorize</A>(Privilege, boolean);     public void <A HREF="#detach(boolean)">detach</A>(boolean);     public Process <A HREF="#execPrivileged(java.lang.String[])">execPrivileged</A>(String[]);     public int <A HREF="#getCapabilities()">getCapabilities</A>();     public Date <A HREF="#getPastGrantedDate(glguerin.authkit.Privilege, int)">getPastGrantedDate</A>(Privilege, int);     public Enumeration <A HREF="#getPastGrantedPrivileges()">getPastGrantedPrivileges</A>();     public byte[] <A HREF="#getSecretIdentifier()">getSecretIdentifier</A>();     public int <A HREF="#getSecretLength()">getSecretLength</A>();     public boolean <A HREF="#isAvailable(glguerin.authkit.Privilege)">isAvailable</A>(Privilege);     public Privilege <A HREF="#makeExecPrivilege(java.lang.String)">makeExecPrivilege</A>(String);     public void <A HREF="#preauthorize(glguerin.authkit.Privilege)">preauthorize</A>(Privilege);}</PRE><P><DL><P>As its name implies, GrantAllAuthorization is an Authorization that grants all requests. Every call to authorize() or preauthorize() is always granted, without any user interaction or authentication of any kind.  Every call to isAvailable() always returns true. This class is primarily for testing, since it doesn't enforce any restrictions at all.<p> The implementation of GrantAllAuthorization uses only plain Java facilities, so it is entirely platform-neutral.  This has a number of consequences:<ul>  <li>There aren't really any underlying sessions.    As a result, all instances return the same secret identifier bytes,    have the same public identifier, and are effectively interchangeable.    The Enumeration of past granted Privileges *IS* instance-specific, though.  </li>  <li>The secret identifiers have no meaning across processes.  They aren't even secret,    since they are always identical.  </li>  <li>The execPrivileged() Process doesn't really run with elevated privileges.    The returned Process is simply a Runtime.exec() child-process.  </li>  <li>The attach() and attachPrivileged() methods always work,    as long as the state is correct (newly constructed or recently detached).  </li></ul><P></DL><P><BR><BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Constructors</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="GrantAllAuthorization"><FONT COLOR="#FFCC00">&middot;</FONT></A><A NAME="GrantAllAuthorization()">GrantAllAuthorization</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public GrantAllAuthorization() </PRE><BLOCKQUOTE><DL><P>Create, unattached but willing.<P></DL></BLOCKQUOTE> <BR><BR><TABLE BGCOLOR="#00ccff" WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD><FONT FACE="arial,helvetica" SIZE=+1><B>&nbsp;&nbsp;Methods</B></FONT></TD> </TR> </TABLE><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="getCapabilities"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="getCapabilities()">getCapabilities</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public int getCapabilities() </PRE><BLOCKQUOTE><DL><P>Return capabilities indicating a full-featured but unprivileged Process, since it isn't actually running with any special privileges. The Process does, however, support all the Process methods and facilities.<P><DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#getCapabilities()">getCapabilities</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="authorize"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="authorize(glguerin.authkit.Privilege, boolean)">authorize</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public void authorize(<A HREF="../../../../glguerin/authkit/Privilege.html">Privilege</A> toGrant,                          boolean interactionAllowed) </PRE><BLOCKQUOTE><DL><P>Always grant the given Privilege.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when the requested Privilege is not granted.<DT> <B>Throws:</B> IllegalArgumentException<DD> thrown when the Privilege is malformed, or some other structural error occurs, i.e. never.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#authorize(glguerin.authkit.Privilege, boolean)">authorize</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="preauthorize"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="preauthorize(glguerin.authkit.Privilege)">preauthorize</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public void preauthorize(<A HREF="../../../../glguerin/authkit/Privilege.html">Privilege</A> toGrant) </PRE><BLOCKQUOTE><DL><P>Always preauthorize the given Privilege.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when the requested Privilege is not granted.<DT> <B>Throws:</B> IllegalArgumentException<DD> thrown when the Privilege is malformed, or some other structural error occurs, i.e. never.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#preauthorize(glguerin.authkit.Privilege)">preauthorize</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="isAvailable"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="isAvailable(glguerin.authkit.Privilege)">isAvailable</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public boolean isAvailable(<A HREF="../../../../glguerin/authkit/Privilege.html">Privilege</A> toCheck) </PRE><BLOCKQUOTE><DL><P>Is the given Privilege currently available?<p> This imp always returns true.<P><DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#isAvailable(glguerin.authkit.Privilege)">isAvailable</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="detach"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="detach(boolean)">detach</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public void detach(boolean revokeShared) </PRE><BLOCKQUOTE><DL><P>Detach the "session".  That is, change the state to "unattached" and clear the past granted Privileges.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when the underlying session cannot be properly discarded.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#detach(boolean)">detach</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="getPastGrantedPrivileges"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="getPastGrantedPrivileges()">getPastGrantedPrivileges</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public Enumeration getPastGrantedPrivileges() </PRE><BLOCKQUOTE><DL><P>Return an Enumeration (possibly empty, but never null) representing all past Privileges granted by authorize() or preauthorize().<P><DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#getPastGrantedPrivileges()">getPastGrantedPrivileges</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="getPastGrantedDate"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="getPastGrantedDate(glguerin.authkit.Privilege, int)">getPastGrantedDate</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public Date getPastGrantedDate(<A HREF="../../../../glguerin/authkit/Privilege.html">Privilege</A> privilege,                                   int when) </PRE><BLOCKQUOTE><DL><P>If the given Privilege was previously granted, return a Date representing the timestamp of when that last occurred.<P><DT> <B>Throws:</B> IllegalArgumentException<DD> thrown when some malformation or structural error occurs,   or if 'when' is an invalid value.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#getPastGrantedDate(glguerin.authkit.Privilege, int)">getPastGrantedDate</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="makeExecPrivilege"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="makeExecPrivilege(java.lang.String)">makeExecPrivilege</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public <A HREF="../../../../glguerin/authkit/Privilege.html">Privilege</A> makeExecPrivilege(String cmdName) </PRE><BLOCKQUOTE><DL><P>Make and return a Privilege representing the right to execute a program as root.<p> This imp always returns a Privilege with the name "exec.root.granted" and a value of the cmdName.  This is essentially meaningless, but is recognizable.<P><DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#makeExecPrivilege(java.lang.String)">makeExecPrivilege</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="execPrivileged"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="execPrivileged(java.lang.String[])">execPrivileged</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public Process execPrivileged(String[] progArray) </PRE><BLOCKQUOTE><DL><P>Execute a program as root (run under root privileges). If the privilege is denied, an UnauthorizedException is thrown and no program is executed. If authorization succeeds, a Privilege is added to the past granted Privileges.<p> This imp just calls Runtime.exec(), turning any IOException into an IllegalArgumentException.<p> The returned Process is not actually running with root privileges, unless the current process (i.e. the current program) is also running with root privileges, or it happens to be a setuid-root program.  Since plain Java has no means to identify either situation, the getCapabilities() value omits HAS_PROCESS_ELEVATED.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when the necessary Privilege is not granted or preauthorized,   or when the program is inaccessible or malformed.<DT> <B>Throws:</B> IllegalArgumentException<DD> thrown when some malformation or structural error occurs.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#execPrivileged(java.lang.String[])">execPrivileged</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="getSecretLength"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="getSecretLength()">getSecretLength</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public int getSecretLength() </PRE><BLOCKQUOTE><DL><P>Return the length of a buffer that can hold the secret session identifier.<p> This imp's buffer-length differs from DenyAllAuthorization or MacOSXAuthorization.<P><DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#getSecretLength()">getSecretLength</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="getSecretIdentifier"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="getSecretIdentifier()">getSecretIdentifier</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public byte[] getSecretIdentifier() </PRE><BLOCKQUOTE><DL><P>Return a secret externalized session ID underlying this Authorization, but only when it's in the "attached" state.<p> This imp fills a byte[] with a fixed pattern. The pattern is always: <tt>array[n] = (byte) ~n;</tt> Needless to say, this isn't really a secret identifier.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when the session identifier cannot be externalized, i.e. never.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#getSecretIdentifier()">getSecretIdentifier</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="attach"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="attach(byte[])">attach</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public void attach(byte[] secretIdentifier) </PRE><BLOCKQUOTE><DL><P>Attach this Authorization to the session identified by the given secret. This Authorization must be newly constructed, or have recently been detach()'ed.<p> This imp accepts any byte[]'s contents, as long as it has sufficient length.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when the session identifier cannot be internalized, i.e. never.<DT> <B>Throws:</B> IllegalArgumentException<DD> thrown when some malformation or structural error occurs.<DT> <B>Throws:</B> IllegalStateException<DD> thrown when this Authorization already represents an active session.   That is, when this Authorization is not newly created or recently detach()'ed.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#attach(byte[])">attach</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><TABLE WIDTH=100% CELLSPACING=0 CELLPADDING=1 BORDER=0> <TR> <TD WIDTH=80%><BR><H3><A NAME="attachPrivileged"><FONT COLOR="#FF0000">&middot;</FONT></A><A NAME="attachPrivileged()">attachPrivileged</A> </H3></TD> <TD ALIGN=right WIDTH=20%> <FONT SIZE="-2"><A HREF="#_Summary_">Summary</A> &nbsp;|&nbsp; <A HREF=#_top_>Top</A></FONT> </TD> </TR> </TABLE><PRE>   public void attachPrivileged() </PRE><BLOCKQUOTE><DL><P>Does nothing, since this class fakes the entire "execute privileged" thing, and never throws an UnauthorizedException for anything. This Authorization must be newly constructed, or have recently been detach()'ed.<P><DT> <B>Throws:</B> <A HREF="../../../../glguerin/authkit/UnauthorizedException.html">UnauthorizedException</A><DD> thrown when there is no privileged session to reconnect to, i.e. never.<DT> <B>Throws:</B> IllegalStateException<DD> thrown when this Authorization already represents an active session.   That is, when this Authorization is not newly created or recently detach()'ed.<DT><B>Overrides:</B><DD><A HREF="../../../../glguerin/authkit/Authorization.html#attachPrivileged()">attachPrivileged</A> in class <A HREF="../../../../glguerin/authkit/Authorization.html">Authorization</A></DL></BLOCKQUOTE> <BR><HR SIZE=1 ALIGN=left WIDTH="98%"><PRE><A HREF="../../../../packages.html">All Packages</A>  <A HREF="../../../../Package-glguerin/authkit/imp/plain.html">This Package</A>  <A HREF="../../../../tree.html">Class Hierarchy</A>  <A HREF="../../../../Search.html">Class Search</A>  <A HREF="../../../../AllNames.html">Index</A></PRE><FONT FACE="Arial,Helvetica" SIZE=-2>Freshly brewed Java API Documentation automatically generated with <A HREF="http://www.ualberta.ca/~tgee/polardoc">polardoc</A> Version 1.0.7<BR></FONT></BODY></HTML>